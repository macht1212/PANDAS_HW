# Расчет статистических показателей на примере игрового автомата

## Условия работы игрового автомата:  

Изначально у игрока есть в банке 100 у.е., при каждом нажатии на 
кнопку "enter" происходит списывание 1 у.е. с банка. То есть минимальное 
количество игр, которые игрок может сыграть до обнуления банка - 100.

При помощи функции **number** была реализована возможность генерации случайной
величины размером 3 значения и состоящей из цифр от 0 до 9.

Если по итогу работы генератора получается выигрышная, то к банку прибавляется 
выигрыш и так далее до полного проигрыша всего банка.

### Комбинации:  
777 - 200 у.е.  
999 - 100 у.е.  
555 - 50 y.e.  
333 - 15 y.e.  
111 - 10 y.e.  
*77 - 5 y.e.  
**7 - 3 y.e.  
*00 - 2 y.e.  
**0 - 1 y.e.

## Вопросы
* Выгодна ли игра игроку?
* Сколько в среднем приобретает или теряет игрок за одну игру?
* Рассчитать теоретический выигрыш (проигрыщ) игрока за одну игру.

## Расчет вероятностей

Мы знаем, что у нас всего 1000 возможных вариантов значений, тогда
вероятность выпадения числа со всеми одинаковыми цифрами будет одинакова и 
равна 1/1000 = 0.001 (1 исход приводит к положительному событию).  
Выпадение комбинаций с *77 и *00 также будет одинакова и будет равна
10/1000 = 0.01 (10 исходов приводят к положительному событию).  
Выпадение комбинаций с **7 и **0 также будет одинакова и будет равна
100/1000 = 0.1 (100 исходов приводят к положительному событию).

Отсюда следует, что вероятность выигрыша будет равна сумме вероятности 
всех вышеперечисленных событий, а именно 0.225, то есть всего 22.5%


## Итог
Используя формулу расчета среднего значения получаем:  
Х = (200 + 100 + 50 + 15 + 10)х0.001 + (5 + 2)х0.01 + (3 + 1)х0.1 = 0.825 у.е. 
игрок приобретает в среднем за игру.  

Теперь используя формулу математического ожидания рассчитаем ожидаемый выигрыш
или проигрыш.  
Ранее мы рассчитали сколько можно выиграть в среднем за игру, теперь рассчитаем 
сколько можно проиграть: (1 - Р)х1 у.е. = 0.899 у.е.  
Получается что ожилаемый выигрыш составит 0.825 - 0.899 = (0.064) у.е.  
То есть ожидаемо игрок будет проигрывать.

Теперь сравним вероятность выигрыша 22.5% с данными моделирования:  
В случае разного стартового баланса в банке игрока получается следующая картина:
* Банк 100 у.е. Побед 24, всего игр 148, частота 16%
* Банк 1 000 у.е. Побед 452, всего игр 2429, частота 18%
* Банк 1 000 000 у.е. Побед 770 622, всего игр 4 171 126, частота 18%

С учетом возможных погрешностей в работе моделирования, получаем достаточно 
близкие значения частоты и вероятности (разница на 2%).

Также не стоит забывать, что распределение "случайных" величин стремится к равномерному.

Отсюда делаем вывод что **игра не выгодна для игрока, но очень выгодна для 
автомата**.

Дополнительно с распределениями можно ознакомиться в файле Распределение

